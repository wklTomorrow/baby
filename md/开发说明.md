# 成长时光盒 - 开发说明

## 项目结构

```
baby/
├── app.json              # 小程序配置文件
├── app.js                # 小程序入口文件
├── app.wxss              # 全局样式
├── project.config.json   # 项目配置
├── sitemap.json          # 站点地图配置
├── utils/                # 工具类
│   ├── storage.js        # 存储工具
│   ├── date.js           # 日期工具
│   └── statistics.js     # 统计工具
└── pages/                # 页面目录
    ├── index/            # 首页（日历页）
    ├── add-record/       # 添加/编辑记录页
    ├── record-detail/    # 记录详情页
    ├── record-list/      # 记录列表页
    ├── profile/          # 个人中心页
    └── baby-info/        # 宝宝信息页
```

## 使用说明

### 1. 在微信开发者工具中打开项目

1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择项目目录：`/Users/kunlun/Desktop/meituan/baby`
4. 填写项目信息：
   - AppID：可以使用测试号或申请正式AppID
   - 项目名称：成长时光盒

### 2. 编译和预览

1. 点击"编译"按钮，等待编译完成
2. 在模拟器中预览效果
3. 可以点击"预览"生成二维码，在手机上扫码体验

### 3. 功能说明

#### 已实现功能

1. **首页（日历页）**
   - 月视图日历展示
   - 有记录的日期显示标记点
   - 点击日期查看/添加记录
   - 月份切换功能
   - 快速添加今日记录

2. **添加/编辑记录页**
   - 照片上传（最多9张）
   - 视频上传（最多1个）
   - 文字输入（最多500字）
   - 标签选择
   - 保存记录

3. **记录详情页**
   - 照片轮播展示
   - 视频播放
   - 文字内容展示
   - 标签展示
   - 编辑/删除/分享功能

4. **记录列表页**
   - 按日期分组展示
   - 筛选功能（全部/照片/视频/文字）
   - 点击查看详情

5. **个人中心页**
   - 宝宝信息展示
   - 数据统计（记录天数、照片数、视频数、连续记录天数）
   - 设置入口

6. **宝宝信息页**
   - 设置宝宝昵称
   - 设置出生日期
   - 更换头像

### 4. 数据存储

- 所有数据存储在微信小程序本地存储中
- 使用 `wx.getStorageSync` 和 `wx.setStorageSync` 进行数据读写
- 存储键名：
  - `records`: 所有记录
  - `babyInfo`: 宝宝信息

### 5. 注意事项

1. **图片和视频存储**
   - 当前版本使用本地临时文件路径
   - 实际项目中需要上传到云存储或服务器
   - 建议使用微信云开发或OSS存储

2. **TabBar图标**
   - 当前版本未配置图标，只显示文字
   - 如需添加图标，请准备以下尺寸的图标：
     - 81px × 81px（未选中状态）
     - 81px × 81px（选中状态）
   - 放置在 `images/` 目录下

3. **兼容性**
   - 支持微信小程序基础库 2.19.4 及以上
   - 建议在微信开发者工具中测试不同版本

### 6. 后续开发建议

1. **后端集成**
   - 集成微信云开发或自建后端
   - 实现数据云端同步
   - 实现图片/视频上传到云存储

2. **功能增强**
   - 添加搜索功能
   - 添加数据导出功能
   - 添加分享卡片生成
   - 添加年度报告

3. **性能优化**
   - 图片懒加载
   - 列表虚拟滚动
   - 数据分页加载

4. **用户体验**
   - 添加引导页
   - 优化加载动画
   - 添加错误提示
   - 优化交互反馈

## 常见问题

### Q: 编译报错怎么办？
A: 检查以下几点：
1. 确保所有文件都已创建
2. 检查 app.json 中的页面路径是否正确

### Q: 图片无法显示？
A: 当前版本使用本地临时文件，在真机上可能无法显示。需要上传到云存储。

### Q: 数据丢失怎么办？
A: 当前版本数据存储在本地，清除小程序数据会丢失。建议尽快实现云端同步。

## 技术支持

如有问题，请参考：
- [微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [MDN JavaScript 文档](https://developer.mozilla.org/docs/Web/JavaScript)

