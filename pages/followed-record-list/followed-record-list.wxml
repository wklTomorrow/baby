<!--pages/followed-record-list/followed-record-list.wxml-->
<view class="container">
  <!-- ç­›é€‰æ ‡ç­¾ -->
  <view class="filter-container">
    <view 
      class="filter-tag {{currentFilter === item.type ? 'active' : ''}}"
      wx:for="{{filters}}"
      wx:key="type"
      bindtap="onFilterTap"
      data-type="{{item.type}}"
    >
      {{item.label}}
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- è®°å½•åˆ—è¡¨ -->
  <view class="records-list" wx:elif="{{groupedRecords.length > 0}}">
    <view class="date-group" wx:for="{{groupedRecords}}" wx:key="date">
      <view class="date-header">
        <text class="icon">ğŸ“…</text>
        <text>{{item.dateText}}</text>
      </view>
      <view 
        class="record-item card"
        wx:for="{{item.records}}"
        wx:key="id"
        bindtap="viewRecord"
        data-id="{{item.id}}"
      >
        <view class="record-thumbnail" wx:if="{{item.thumbnail}}">
          <image class="thumbnail" src="{{item.thumbnail}}" mode="aspectFill"></image>
        </view>
        <view class="record-content">
          <view class="record-text" wx:if="{{item.text}}">{{item.text}}</view>
          <view class="record-meta">
            <text class="time">{{item.time}}</text>
            <view class="record-tags" wx:if="{{item.tags && item.tags.length > 0}}">
              <text class="tag" wx:for="{{item.tags}}" wx:key="index" wx:for-item="tag">{{tag}}</text>
            </view>
          </view>
        </view>
        <view class="record-type-icon">
          <text wx:if="{{item.photos && item.photos.length > 0}}">ğŸ“·</text>
          <text wx:if="{{item.video}}">ğŸ¥</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <text class="empty-state-icon">ğŸ“</text>
    <text class="empty-state-text">è¯¥å®å®è¿˜æ²¡æœ‰è®°å½•å“¦~</text>
  </view>
</view>